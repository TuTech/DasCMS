CREATE TABLE IF NOT EXISTS Aliases( aliasID INTEGER PRIMARY KEY AUTO_INCREMENT NOT NULL, alias VARCHAR(128) UNIQUE NOT NULL, contentREL INTEGER NOT NULL, INDEX(contentREL))  CHARACTER SET utf8 COLLATE utf8_unicode_ci;
CREATE TABLE IF NOT EXISTS AtomImports(	atomSourceREL INTEGER NOT NULL,	guid VARCHAR(128) NOT NULL,	lastUpdate DATETIME NOT NULL,	contentREL INTEGER NOT NULL,	UNIQUE (guid),	INDEX (atomSourceREL),	INDEX (contentREL))  CHARACTER SET utf8 COLLATE utf8_unicode_ci;
CREATE TABLE IF NOT EXISTS AtomSources(	atomSourceID INTEGER PRIMARY KEY AUTO_INCREMENT NOT NULL,	name VARCHAR(32) NOT NULL,	url VARCHAR(255) NOT NULL,	lastFetched TIMESTAMP NULL)  CHARACTER SET utf8 COLLATE utf8_unicode_ci;
CREATE TABLE IF NOT EXISTS AuthorisationLog(	LoginTime TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,	IPAdr INTEGER NOT NULL,	UserName VARCHAR(32) NOT NULL,	Status ENUM('FAIL', 'SUCCESS') NOT NULL,	INDEX(`IPAdr`, `UserName`, `Status`),	INDEX (`LoginTime`))  CHARACTER SET utf8 COLLATE utf8_unicode_ci;
CREATE TABLE IF NOT EXISTS Changes( contentREL INTEGER NOT NULL, title VARCHAR(255) NOT NULL, size INTEGER NOT NULL, changeDate TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP, userREL INTEGER NULL, INDEX changes_date (changeDate), INDEX (contentREL), INDEX (userREL))  CHARACTER SET utf8 COLLATE utf8_unicode_ci;
CREATE TABLE IF NOT EXISTS Classes( classID INTEGER PRIMARY KEY AUTO_INCREMENT NOT NULL, class VARCHAR(48) UNIQUE NOT NULL, guid VARCHAR(128) UNIQUE NULL)  CHARACTER SET utf8 COLLATE utf8_unicode_ci;
CREATE TABLE IF NOT EXISTS Contents( contentID INTEGER PRIMARY KEY AUTO_INCREMENT NOT NULL, primaryAlias INTEGER UNIQUE NULL, GUID INTEGER UNIQUE NULL, type INTEGER NOT NULL,	mimetypeREL INTEGER NOT NULL DEFAULT 1, title VARCHAR(255) NOT NULL,	size INT NOT NULL DEFAULT 0, pubDate DATETIME NOT NULL DEFAULT '0000-00-00 00:00:00', description VARCHAR(2000) NOT NULL DEFAULT '', INDEX (title), INDEX (description), INDEX (type), INDEX (mimetypeREL), INDEX (pubDate))  CHARACTER SET utf8 COLLATE utf8_unicode_ci;
CREATE TABLE IF NOT EXISTS Feeds( contentREL INTEGER UNIQUE NOT NULL, filterType ENUM('All', 'MatchSome', 'MatchAll', 'MatchNone') NOT NULL,	lastUpdate TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,	associatedItems INTEGER NOT NULL DEFAULT 0)  CHARACTER SET utf8 COLLATE utf8_unicode_ci;
CREATE TABLE IF NOT EXISTS FileAttributes(	contentREL INTEGER NOT NULL,	folderREL INTEGER NULL,	originalFileName VARCHAR(255) NOT NULL,	suffix VARCHAR(12) NOT NULL,	md5sum CHAR(32) NOT NULL DEFAULT '',	UNIQUE(contentREL),	INDEX(folderREL))  CHARACTER SET utf8 COLLATE utf8_unicode_ci;
CREATE TABLE IF NOT EXISTS Folders(	folderID INTEGER PRIMARY KEY AUTO_INCREMENT NOT NULL,	parentFolderREL INTEGER NULL,	name VARCHAR(128) NOT NULL,	UNIQUE(parentFolderREL, name))  CHARACTER SET utf8 COLLATE utf8_unicode_ci;
CREATE TABLE IF NOT EXISTS Groups( groupID INTEGER PRIMARY KEY AUTO_INCREMENT NOT NULL, groupName VARCHAR(32) UNIQUE NOT NULL, description VARCHAR(255) NOT NULL DEFAULT '')  CHARACTER SET utf8 COLLATE utf8_unicode_ci;
CREATE TABLE IF NOT EXISTS Jobs( jobID INTEGER PRIMARY KEY AUTO_INCREMENT NOT NULL, classREL INTEGER NOT NULL, start DATETIME NULL, stop DATETIME NULL, rescheduleInterval INTEGER NOT NULL, UNIQUE (classREL))  CHARACTER SET utf8 COLLATE utf8_unicode_ci;
CREATE TABLE IF NOT EXISTS JobSchedules(	jobREL INTEGER NOT NULL,	scheduled TIMESTAMP DEFAULT 0 NOT NULL,	started TIMESTAMP NULL,	finished TIMESTAMP NULL,	exitCode INTEGER NULL,	exitMessage VARCHAR(64) NULL,	INDEX (jobREL))  CHARACTER SET utf8 COLLATE utf8_unicode_ci;
CREATE TABLE IF NOT EXISTS MailImportAccounts(	mailImportAccountID INTEGER PRIMARY KEY AUTO_INCREMENT NOT NULL,	label VARCHAR(64) NOT NULL,	server VARCHAR(128) NOT NULL,	port INTEGER NOT NULL DEFAULT 143,	mailBox VARCHAR(255) NOT NULL DEFAULT 'INBOX',	username VARCHAR(64) NOT NULL,	password VARCHAR(64) NOT NULL,	updated TIMESTAMP NULL,	status Enum('DISABLED', 'ENABLED') NOT NULL DEFAULT 'ENABLED')  CHARACTER SET utf8 COLLATE utf8_unicode_ci;
CREATE TABLE IF NOT EXISTS MailImportFlags(	mailImportFlagID INTEGER PRIMARY KEY AUTO_INCREMENT NOT NULL,	label VARCHAR(32) NOT NULL,	flag VARCHAR(24) NOT NULL)  CHARACTER SET utf8 COLLATE utf8_unicode_ci;
CREATE TABLE IF NOT EXISTS MailImportMails(	mailImportMailID INTEGER PRIMARY KEY AUTO_INCREMENT NOT NULL,	mailImportAccountREL INTEGER NOT NULL,	imapID INTEGER NOT NULL,	messageID VARCHAR(255) UNIQUE NOT NULL,	sender VARCHAR(128) NOT NULL,	updated TIMESTAMP NOT NULL,	contentREL INTEGER NULL,	UNIQUE(mailImportAccountREL, imapID))  CHARACTER SET utf8 COLLATE utf8_unicode_ci;
CREATE TABLE IF NOT EXISTS Mimetypes( mimetypeID INTEGER PRIMARY KEY AUTO_INCREMENT NOT NULL, mimetype VARCHAR(64) UNIQUE NOT NULL)  CHARACTER SET utf8 COLLATE utf8_unicode_ci;
CREATE TABLE IF NOT EXISTS PermissionTags( permissionTagREL INTEGER UNIQUE NOT NULL)  CHARACTER SET utf8 COLLATE utf8_unicode_ci;
CREATE TABLE IF NOT EXISTS PersonContexts(	personContextID INTEGER PRIMARY KEY AUTO_INCREMENT NOT NULL, personContext VARCHAR(32) NOT NULL UNIQUE)  CHARACTER SET utf8 COLLATE utf8_unicode_ci;
CREATE TABLE IF NOT EXISTS PersonAttributes(	personAttributeID INTEGER PRIMARY KEY AUTO_INCREMENT NOT NULL, personAttribute VARCHAR(64) NOT NULL UNIQUE,	personAttributeTypeREL INTEGER NOT NULL)  CHARACTER SET utf8 COLLATE utf8_unicode_ci;
CREATE TABLE IF NOT EXISTS PersonAttributeTypes(	personAttributeTypeID INTEGER PRIMARY KEY AUTO_INCREMENT NOT NULL, personAttributeType VARCHAR(32) NOT NULL UNIQUE)  CHARACTER SET utf8 COLLATE utf8_unicode_ci;
CREATE TABLE IF NOT EXISTS PersonAttributeContexts(	personAttributeContextID INTEGER PRIMARY KEY AUTO_INCREMENT NOT NULL, personContextREL INTEGER NOT NULL, personAttributeREL INTEGER NOT NULL, INDEX (personContextREL), UNIQUE (personAttributeREL, personContextREL))  CHARACTER SET utf8 COLLATE utf8_unicode_ci;
CREATE TABLE IF NOT EXISTS PersonData(	contentREL INTEGER NOT NULL, personAttributeContextREL INTEGER NOT NULL,	personData varchar(2000) NOT NULL,	INDEX (contentREL),	INDEX (personAttributeContextREL),	INDEX (personData))  CHARACTER SET utf8 COLLATE utf8_unicode_ci;
CREATE TABLE IF NOT EXISTS PersonLogins(	contentREL INTEGER NOT NULL, loginName VARCHAR(32) NOT NULL, digestHA1 VARCHAR(32) NOT NULL, digestRealm VARCHAR(32) NOT NULL,	isActive Enum('NO', 'YES') NOT NULL DEFAULT 'YES',	INDEX (contentREL),	INDEX (loginName, digestHA1, digestRealm))  CHARACTER SET utf8 COLLATE utf8_unicode_ci;
CREATE TABLE IF NOT EXISTS Tags( tagID INTEGER PRIMARY KEY AUTO_INCREMENT NOT NULL, tag varchar(64) UNIQUE NOT NULL, blocked INTEGER NOT NULL DEFAULT 0)  CHARACTER SET utf8 COLLATE utf8_swedish_ci;
CREATE TABLE IF NOT EXISTS Users( userID INTEGER PRIMARY KEY AUTO_INCREMENT NOT NULL, login VARCHAR(32) UNIQUE NOT NULL, name varchar(100) NOT NULL DEFAULT '-',	email varchar(100) NOT NULL DEFAULT '', primaryGroup INTEGER NULL, INDEX (primaryGroup))  CHARACTER SET utf8 COLLATE utf8_unicode_ci;
CREATE TABLE IF NOT EXISTS SporeViews( viewID INTEGER PRIMARY KEY AUTO_INCREMENT NOT NULL, viewName VARCHAR(16) UNIQUE NOT NULL, active ENUM('N', 'Y') NOT NULL DEFAULT 'N', defaultContentREL INTEGER NULL,	errorContentREL INTEGER NULL, INDEX (defaultContentREL), INDEX (errorContentREL))  CHARACTER SET utf8 COLLATE utf8_unicode_ci;
